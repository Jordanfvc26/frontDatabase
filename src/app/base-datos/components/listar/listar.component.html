<nav class="navbar navbar-light bg-light">
    <div class="container-fluid">
        <a class="navbar-brand" href="#">
            <img src="https://guides.wp-bullet.com/wp-content/uploads/2018/12/export-large-mysql-database-tables-wordpress.png" alt="" width="90" height="40"
                class="d-inline-block align-text-top">
            Database Admin
        </a>
    </div>
</nav>

<div class="container">
    <div class="contenedor-texto">
        <h3><fa-icon [icon]="iconTabla"></fa-icon> TABLAS</h3>
        <form>
            <button (click)="nuevaTablaColumnas(modalCrearTabla)" type="button" class="btn btn-primary"><fa-icon [icon]="iconAgregar"></fa-icon> Nueva</button>
            <input class="search form-control" type="text" placeholder="Buscar tablas...">
        </form>
    </div>

    <div class="contenedor-tabla">
        <table class="table">
            <thead>
              <tr>
                <!--<th class="col-1">#</th>-->
                <th class="col-4">Nombre</th>
                <th class="col-3">N° Columnas</th>
                <th class="col-5">Acciones</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let tabla of tablas; let i = index">
                <!--<th scope="row">{{i+1}}</th>-->
                <td>{{tabla.table.name}}</td>
                <td>{{tabla.fields.length}}</td>
                <td class="acciones">
                    <fa-icon data-bs-toggle="mensaje" title="Ver Detalles" id="iconVerDetalles" [icon]="iconVerDetalles"></fa-icon>
                    <!-- <fa-icon id="iconEditar" [icon]="iconEditar"></fa-icon> -->
                    <fa-icon (click)="asignarPermisos(modalPermisos, tabla.table)" data-bs-toggle="mensaje" title="Permisos" id="iconPermisos" [icon]="iconPermisos"></fa-icon>
                    <fa-icon (click)="eliminarTablaColumnas(modalEliminarTabla, tabla.table)" data-bs-toggle="mensaje" title="Eliminar" id="iconEliminar" [icon]="iconEliminar"></fa-icon>
                </td>
              </tr>
            </tbody>
        </table>
    </div>
</div>


<!--Modal para crear una nueva tabla-->
<ng-template #modalCrearTabla>
    <app-crear></app-crear>
</ng-template>


<!--Modal para mostrar los permisos que se asignarán a una tabla-->
<ng-template #modalPermisos>
    <app-permisos></app-permisos>
</ng-template>


<!--Modal para corroborar si se quiere eliminar una tabla-->
<ng-template #modalEliminarTabla>
    <app-eliminar></app-eliminar>
</ng-template>


<!--Script para poder usar el Tooltip de Bootstrap-->
<script>
    var tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="mensaje"]'))
    var tooltipList = tooltipTriggerList.map(function (tooltipTriggerEL){
        return new bootstrap.Tooltip(tooltipTriggerEL)
    })
</script>
